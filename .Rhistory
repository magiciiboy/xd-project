gid <- as.character(df_nodes[row, "Id"])
node_degree <- calculateNodeDegree(df_edges, gid)
if( node_degree > 0 ) {
xd <- (as.character(df_nodes[row, "Orientation"]) == 'XD')
node_coauthors <- getCoauthors(df_edges, gid)
node_orientation <- ifelse(xd, 'XD', getScholarOrientation(df_nodes, gid, node_coauthors))
# Add node
df_nodes_cleaned <- addAuthorNode(df_nodes_cleaned, gid, orientation=node_orientation, k=node_degree)
}
}
# Save
write.csv(df_nodes_cleaned, paste0('./preprocessed/nodes_year_', year, '.csv'))
write.csv(df_edges, paste0('./preprocessed/edges_year_', year, '.csv'))
return(T)
}
# Main
if (!DATA_SPLITTED_BY_YEARS) {
splitPapersByYear()
}
if (!DATA_PROCESSED_NODES_EDGES) {
processEdgesAndNodesPerYear(1990)
# processEdgesAndNodesPerYear(1995)
# processEdgesAndNodesPerYear(2000)
# processEdgesAndNodesPerYear(2005)
# processEdgesAndNodesPerYear(2010)
# processEdgesAndNodesPerYear(2015)
}
# getwd
# setwd("D:\\bwm03\\Documents\\Graduate Classes\\Statistical Methods R")
library(ggplot2)
gs_data <- read.csv("./data/Faculty_GoogleScholar_Funding_Data_N4190.csv", header = TRUE)
head(gs_data, n=1)
nf_bio = sum(gs_data$XDIndicator=="BIO")
nf_cs = sum(gs_data$XDIndicator=="CS")
nf_xd = sum(gs_data$XDIndicator=="XD")
density_prc_bio = stats::density(gs_data$PRCentrality[gs_data$XDIndicator=="BIO"]*nf_bio, from=0, to=3)
density_prc_cs = stats::density(gs_data$PRCentrality[gs_data$XDIndicator=="CS"]*nf_cs, from=0, to=3)
density_prc_xd = stats::density(gs_data$PRCentrality[gs_data$XDIndicator=="XD"]*nf_xd, from=0, to=3)
cut_bio = min(which(density_prc_bio$y < 1e-4))
cut_cs = min(which(density_prc_cs$y < 1e-4))
cut_xd = min(which(density_prc_xd$y < 1e-4))
density_df = data.frame(x=density_prc_bio$x,
bioy=density_prc_bio$y,
csy=density_prc_cs$y,
xdy=density_prc_xd$y
)
fig3d <- ggplot(density_df, aes(x = x)) +
geom_ribbon (aes(x = x, ymax=bioy, ymin=rep(-1,512) ), colour="green", alpha = 0.3, na.rm = TRUE)
fig3d
fig3d <- ggplot(density_df, aes(x = x)) +
geom_ribbon (aes(x = x, ymax=bioy, ymin=rep(-1,512) ), colour="green", alpha = 0.3, na.rm = TRUE)+
geom_ribbon (aes(ymax=csy, ymin=rep(-1,512) ), colour="purple", alpha = 0.3, na.rm = TRUE) +
geom_ribbon (aes(ymax=xdy, ymin=rep(-1,512) ), colour="black", alpha = 0.3, na.rm = TRUE) +
scale_y_log10()
fig3d
fig3d <- ggplot(density_df, aes(x = x)) +
geom_ribbon (aes(x = x, ymax=bioy, ymin=rep(-1,512) ), colour="green", alpha = 0.3, na.rm = TRUE)+
geom_ribbon (aes(x = x, ymax=csy, ymin=rep(-1,512) ), colour="purple", alpha = 0.3, na.rm = TRUE) +
geom_ribbon (aes(x = x, ymax=xdy, ymin=rep(-1,512) ), colour="black", alpha = 0.3, na.rm = TRUE) +
scale_y_log10()
fig3d
fig3d <- ggplot(density_df, aes(x = x)) +
geom_ribbon (aes(x = x, ymax=bioy, ymin=rep(-1,512) ), colour="green", alpha = 0.3, na.rm = TRUE)+
geom_ribbon (aes(x = x, ymax=csy, ymin=rep(-1,512) ), colour="purple", alpha = 0.3, na.rm = TRUE) +
geom_ribbon (aes(x = x, ymax=xdy, ymin=rep(-1,512) ), colour="black", alpha = 0.3, na.rm = TRUE)
fig3d
fig3d <- ggplot(density_df, aes(x = x)) +
geom_ribbon (aes(x = x, ymax=bioy, ymin=rep(1e-4,512) ), colour="green", alpha = 0.3, na.rm = TRUE)+
geom_ribbon (aes(x = x, ymax=csy, ymin=rep(1e-4,512) ), colour="purple", alpha = 0.3, na.rm = TRUE) +
geom_ribbon (aes(x = x, ymax=xdy, ymin=rep(1e-4,512) ), colour="black", alpha = 0.3, na.rm = TRUE) +
scale_y_log10()
fig3d
fig3d <- ggplot(density_df, aes(x = x)) +
geom_ribbon (aes(x = x[1:100], ymax=bioy[1:100], ymin=rep(1e-4,512) ), colour="green", alpha = 0.3, na.rm = TRUE)+
geom_ribbon (aes(x = x, ymax=csy, ymin=rep(1e-4,512) ), colour="purple", alpha = 0.3, na.rm = TRUE) +
geom_ribbon (aes(x = x, ymax=xdy, ymin=rep(1e-4,512) ), colour="black", alpha = 0.3, na.rm = TRUE) +
scale_y_log10()
fig3d
fig3d <- ggplot(density_df, aes(x = x)) +
geom_ribbon (aes(x = x[1:100], ymax=bioy[1:100], ymin=rep(1e-4,100) ), colour="green", alpha = 0.3, na.rm = TRUE)+
geom_ribbon (aes(x = x, ymax=csy, ymin=rep(1e-4,512) ), colour="purple", alpha = 0.3, na.rm = TRUE) +
geom_ribbon (aes(x = x, ymax=xdy, ymin=rep(1e-4,512) ), colour="black", alpha = 0.3, na.rm = TRUE) +
scale_y_log10()
fig3d
fig3d <- ggplot(density_df, aes(x = x)) +
geom_ribbon (aes(x = x[1:100], ymax=bioy[1:100], ymin=rep(1e-4,100) ), colour="green", alpha = 0.3, na.rm = TRUE)
fig3d
len(1:100)
length(1:100)
length(rep(1e-4,100))
fig3d <- ggplot(density_df) +
geom_ribbon (aes(x = x[1:100], ymax=bioy[1:100], ymin=rep(1e-4,100) ), colour="green", alpha = 0.3, na.rm = TRUE)
fig3d
ggplot(df, aes(x=x, ymax=density, ymin=1e-4, col=dataset, size=dataset)) + geom_ribbon()
ggplot(data=df, aes(x=x, ymax=density, ymin=1e-4, col=dataset, size=dataset)) + geom_ribbon()
dens_df <- rbind(density_df_bio, density_df_cs, density_df_xd)
density_df_bio = data.frame(x=density_prc_bio$x[1:cut_bio],
density=density_prc_bio$y[1:cut_bio] )
density_df_cs = data.frame(x=density_prc_bio$x[1:cut_cs],
density=density_prc_cs$y[1:cut_cs] )
density_df_xd = data.frame(x=density_prc_bio$x[1:cut_xd],
density=density_prc_xd$y[1:cut_xd] )
dens_df <- rbind(density_df_bio, density_df_cs, density_df_xd)
dens_df$group <- c(rep("BIO", cut_bio), rep("CS", cut_cs), rep("XD", cut_xd))
ggplot(data=dens_df, aes(x=x, ymax=density, ymin=1e-4, col=dataset, size=dataset)) + geom_ribbon()
ggplot(data=dens_df, aes(x=x, ymax=density, ymin=1e-4, col=group, size=group)) + geom_ribbon()
ggplot(data=dens_df, aes(x=x, ymax=density, ymin=1e-4, col=group)) + geom_ribbon()
ggplot(data=dens_df, aes(x=x, ymax=density, ymin=1e-4, col=group)) + geom_ribbon() + scale_y_log10()
ggplot(data=dens_df, aes(x=x, ymax=density, ymin=1e-4, col=group)) + geom_ribbon(alpha = 0.3) + scale_y_log10()
ggplot(data=dens_df, aes(x=x, ymax=density, ymin=1e-5, col=group)) + geom_ribbon(alpha = 0.3) + scale_y_log10()
ggplot(data=dens_df, aes(x=x, ymax=density, ymin=1e-5, col=group)) + geom_ribbon(alpha = 0.3) + scale_y_log10() + scale_fill_manual(values=c("green", "purple", "black"))
ggplot(data=dens_df, aes(x=x, ymax=density, ymin=1e-5, col=group)) + geom_ribbon(alpha = 0.3) + scale_y_log10() + scale_fill_brewer(palette="Dark2")
ggplot(data=dens_df, aes(x=x, ymax=density, ymin=1e-5, col=group)) + geom_ribbon(alpha = 0.3)  + scale_fill_brewer(palette="Dark2")  + scale_y_log10()
ggplot(data=dens_df, aes(x=x, ymax=density, ymin=1e-5, col=group)) + geom_ribbon(alpha = 0.3)  + scale_color_brewer(palette="Dark2")  + scale_y_log10()
ggplot(data=dens_df, aes(x=x, ymax=density, ymin=1e-5, col=group, fill=group)) + geom_ribbon(alpha = 0.3)  + scale_fill_manual(values=c("green", "purple", "black"))  + scale_y_log10()
ggplot(data=dens_df, aes(x=x, ymax=density, ymin=1e-5, col=group, fill=group)) + geom_ribbon(color=NA, alpha = 0.3)  + scale_fill_manual(values=c("green", "purple", "black"))  + scale_y_log10()
ggplot(data=dens_df, aes(x=x, density=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3)  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10()
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3)  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10()
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3, size=5)  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10()
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3, size=3)  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10()
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3, size=2)  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10()
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3, size=2)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10()
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3, size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10()
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3, size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10() + ylim(1e-4, 2)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3, size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
ylim(1e-4, 2) +
scale_y_log10()
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3, size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10(limits = c(1e-4,NA))
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3, size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1e-4,NA))
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3, size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1e-4,1))
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3, size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1e-4,1.2))
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3, size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1e-4,1.5))
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3, size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1e-4,3))
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3, size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.1e-4,3))
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(alpha = 0.3, size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.3e-4,3))
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.3e-4,3))
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4,3), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
dens_df <- rbind(density_df_xd, density_df_cs, density_df_bio)
dens_df$group <- c(rep("BIO", cut_bio), rep("CS", cut_cs), rep("XD", cut_xd))
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
dens_df$group <- c(rep("XD", cut_xd), rep("CS", cut_cs), rep("BIO", cut_bio))
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_ribbon(color=NA, alpha = 0.3)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_ribbon(color=NA, alpha = 0.5)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
cut_bio
cut_xd
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_ribbon(color=NA, alpha = 0.5)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"), breaks=c("XD","CS","BIO"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_ribbon(color=NA, alpha = 0.5)  +
scale_fill_manual(values=c("green", "purple", "black"), breaks=c("XD","CS","BIO"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"), breaks=c("XD","CS","BIO"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_ribbon(color=NA, alpha = 0.5)  +
scale_fill_manual(values=c("green", "purple", "black"), breaks=c("CS","BIO","XD"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"), breaks=c("CS","BIO","XD"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_ribbon(color=NA, alpha = 0.5)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"), breaks=c("XD","CS","BIO"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_ribbon(color=NA, alpha = 0.5)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"), labels=myorder, breaks=myorder)  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
myorder = c("XD","CS","BIO")
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_ribbon(color=NA, alpha = 0.5)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"), labels=myorder, breaks=myorder)  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_ribbon(color=NA, alpha = 0.5)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"), labels=myorder, breaks=myorder)  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-5, 5), expand=FALSE)
View(density_prc_bio)
density_prc_bio[["y"]]
library('Cairo')
install.packages("cairo")
install.packages("Cairo")
library(Cairo)
CairoWin()
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_ribbon(color=NA, alpha = 0.5)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"), labels=myorder, breaks=myorder)  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-5, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_ribbon(color=NA, alpha = 0.5)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"), labels=myorder, breaks=myorder)  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
Cairo()
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_ribbon(color=NA, alpha = 0.5)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"), labels=myorder, breaks=myorder)  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
View(dens_df)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group), breaks=myorder) +
geom_ribbon(color=NA, alpha = 0.5)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group, breaks=myorder)) +
geom_ribbon(color=NA, alpha = 0.5)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_ribbon(color=NA, alpha = 0.5)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
CairoWin()
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
geom_ribbon(color=NA, alpha = 0.5)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group), breaks=myorder) +
geom_ribbon(color=NA, alpha = 0.5)  +
scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group), breaks=myorder) +
# geom_ribbon(color=NA, alpha = 0.5)  +
# scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("green", "purple", "black"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group), breaks=myorder) +
# geom_ribbon(color=NA, alpha = 0.5)  +
# scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("black", "purple", "green"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
# getwd
# setwd("D:\\bwm03\\Documents\\Graduate Classes\\Statistical Methods R")
library(ggplot2)
library(Cairo)
gs_data <- read.csv("./data/Faculty_GoogleScholar_Funding_Data_N4190.csv", header = TRUE)
head(gs_data, n=1)
nf_bio = sum(gs_data$XDIndicator=="BIO")
nf_cs = sum(gs_data$XDIndicator=="CS")
nf_xd = sum(gs_data$XDIndicator=="XD")
density_prc_bio = stats::density(gs_data$PRCentrality[gs_data$XDIndicator=="BIO"]*nf_bio, from=0, to=3)
density_prc_cs = stats::density(gs_data$PRCentrality[gs_data$XDIndicator=="CS"]*nf_cs, from=0, to=3)
density_prc_xd = stats::density(gs_data$PRCentrality[gs_data$XDIndicator=="XD"]*nf_xd, from=0, to=3)
cut_bio = min(which(density_prc_bio$y < 1e-4))
cut_cs = min(which(density_prc_cs$y < 1e-4))
cut_xd = min(which(density_prc_xd$y < 1e-4))
density_df_bio = data.frame(x=density_prc_bio$x[1:cut_bio],
density=density_prc_bio$y[1:cut_bio] )
density_df_cs = data.frame(x=density_prc_bio$x[1:cut_cs],
density=density_prc_cs$y[1:cut_cs] )
density_df_xd = data.frame(x=density_prc_bio$x[1:cut_xd],
density=density_prc_xd$y[1:cut_xd] )
dens_df <- rbind(density_df_xd, density_df_cs, density_df_bio)
dens_df$group <- c(rep("XD", cut_xd), rep("CS", cut_cs), rep("BIO", cut_bio))
myorder = c("XD","CS","BIO")
CairoWin()
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group), breaks=myorder) +
# geom_ribbon(color=NA, alpha = 0.5)  +
# scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("black", "purple", "green"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group), breaks=myorder) +
# geom_ribbon(color=NA, alpha = 0.5)  +
# scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("black", "purple", "green"), breaks=myorder)  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
# geom_ribbon(color=NA, alpha = 0.5)  +
# scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c("black", "purple", "green"), breaks=myorder)  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
# geom_ribbon(color=NA, alpha = 0.5)  +
# scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c(XD="black", CS="purple", BIO="green"), breaks=myorder)  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
# geom_ribbon(color=NA, alpha = 0.5)  +
# scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c(BIO="green", CS="purple", XD="black"), breaks=myorder)  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
myorder = c("CS","BIO","XD")
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
# geom_ribbon(color=NA, alpha = 0.5)  +
# scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c(BIO="green", CS="purple", XD="black"), breaks=myorder)  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
myorder = c("BIO","CS","XD")
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
# geom_ribbon(color=NA, alpha = 0.5)  +
# scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c(BIO="green", CS="purple", XD="black"), breaks=myorder)  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
# geom_ribbon(color=NA, alpha = 0.5)  +
# scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c(XD="black", BIO="green", CS="purple"), breaks=myorder)  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
# geom_ribbon(color=NA, alpha = 0.5)  +
# scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c(XD="black", CS="purple", BIO="green"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
# geom_ribbon(color=NA, alpha = 0.5)  +
# scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c(XD="black", CS="purple", BIO="green"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
dens_df <- rbind(density_df_bio, density_df_cs, density_df_xd)
dens_df$group <- c(rep("BIO", cut_bio), rep("CS", cut_cs), rep("XD", cut_xd))
myorder = c("BIO","CS","XD")
ggplot(data=dens_df, aes(x=x, y=density, ymax=density, ymin=1e-5, col=group, fill=group)) +
# geom_ribbon(color=NA, alpha = 0.5)  +
# scale_fill_manual(values=c("green", "purple", "black"))  +
geom_line(size=1.5)  +
scale_color_manual(values=c(XD="black", CS="purple", BIO="green"))  +
scale_y_log10() +
coord_cartesian(ylim = c(1.0e-4, 5), expand=FALSE)
